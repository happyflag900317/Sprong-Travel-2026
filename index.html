<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>2026 æ˜¥ç¯€éš¨èº«æ‰‹å†Š</title>
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #F8F5F2; color: #333; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .card { background: white; border-radius: 18px; box-shadow: 0 6px 15px rgba(0,0,0,0.05); margin-bottom: 16px; padding: 20px; border-left: 6px solid #DDD; }
        /* æ–‡å­—å†æ¬¡æ”¾å¤§ */
        .section-date { font-size: 1.4rem; font-weight: 900; color: #C0392B; margin: 25px 0 15px 10px; display: block; }
        .time-tag { color: #8E9775; font-weight: 900; font-size: 1.15rem; display: block; margin-bottom: 2px; }
        .loc-title { font-size: 1.25rem; font-weight: 700; line-height: 1.4; }
        .stay-tag { background: #F2F2F2; color: #666; padding: 4px 10px; border-radius: 6px; font-size: 0.9rem; margin-top: 8px; display: inline-block; font-weight: 500; }
        .btn-nav { background-color: #8E9775; color: white; border-radius: 50px; padding: 10px 20px; font-size: 1rem; font-weight: 700; display: flex; align-items: center; gap: 6px; shadow: 0 4px 6px rgba(0,0,0,0.1); }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="pb-32">

    <header class="bg-white p-6 pt-12 text-center shadow-md sticky top-0 z-40">
        <h1 class="text-2xl font-black tracking-widest text-red-700">2026 é¦¬å¹´æ˜¥ç¯€æ—…éŠ</h1>
    </header>

    <main class="p-4 max-w-md mx-auto">
        
        <div id="itinerary" class="tab-content active">
            
            <section>
                <h2 class="section-date">02/15 (æ—¥) å°å¹´å¤œ</h2>
                <div class="card border-orange-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">12:30</span><h3 class="loc-title">åˆé¤-GOGOGA æ¥µä¸Šé›æ¹¯</h3><span class="stay-tag">åœç•™ 01æ™‚30åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/GOGOGA+æ¥µä¸Šé›æ¹¯" class="btn-nav"><i class="fas fa-location-arrow"></i>å°èˆª</a>
                    </div>
                </div>
                <div class="card border-orange-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">14:15</span><h3 class="loc-title">å¥½å¸‚å¤š å°ä¸­åº—</h3><span class="stay-tag">åœç•™ 01æ™‚15åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/å¥½å¸‚å¤š+å°ä¸­åº—" class="btn-nav"><i class="fas fa-location-arrow"></i>å°èˆª</a>
                    </div>
                </div>
                <div class="card border-blue-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">16:15</span><h3 class="loc-title">è«å®¶èŠ é›»æ¢¯åŒ…æ£Ÿç§å¢…</h3><span class="stay-tag">åœç•™ 01æ™‚45åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/è«å®¶èŠ+åé‡Œ" class="btn-nav"><i class="fas fa-location-arrow"></i>å°èˆª</a>
                    </div>
                </div>
                <div class="card border-orange-400">
                    <div><span class="time-tag">18:30</span><h3 class="loc-title">æ™šé¤-æ¢æŸ´ç›´ç«æ–™ç†</h3><span class="stay-tag">åœç•™ 01æ™‚30åˆ†</span></div>
                </div>
                <div class="card border-blue-400">
                    <div><span class="time-tag">20:30</span><h3 class="loc-title">æŠµé”æ°‘å®¿ä¼‘æ¯ (è«å®¶èŠ)</h3></div>
                </div>
            </section>

            <section>
                <h2 class="section-date">02/16 (ä¸€) é™¤å¤•</h2>
                <div class="card border-blue-400">
                    <div><span class="time-tag">09:30</span><h3 class="loc-title">å¾è«å®¶èŠå‡ºç™¼</h3></div>
                </div>
                <div class="card border-green-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">10:00</span><h3 class="loc-title">åè±éµé¦¬é“(éš§é“å£ç§Ÿè»Š)</h3><span class="stay-tag">åœç•™ 02æ™‚00åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/éš§é“å£ç§Ÿè»Šä¸­å¿ƒ" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-purple-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">12:15</span><h3 class="loc-title">éº—å¯¶ OUTLET MALL</h3><span class="stay-tag">åœç•™ 03æ™‚30åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/éº—å¯¶+OUTLET" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-orange-400">
                    <div><span class="time-tag">12:45</span><h3 class="loc-title">åˆé¤-åäºŒæœˆç²¥å“(éº—å¯¶åº—)</h3><span class="stay-tag">åœç•™ 01æ™‚30åˆ†</span></div>
                </div>
                <div class="card border-blue-400">
                    <div><span class="time-tag">16:00</span><h3 class="loc-title">å›æ°‘å®¿ä¼‘æ¯ (è«å®¶èŠ)</h3></div>
                </div>
                <div class="card border-red-500 bg-red-50">
                    <div><span class="time-tag">18:00</span><h3 class="loc-title text-red-700">é™¤å¤•åœçˆ-æ°‘å®¿ç«é‹ç‡’çƒ¤</h3></div>
                </div>
            </section>

            <section>
                <h2 class="section-date">02/17 (äºŒ) åˆä¸€</h2>
                <div class="card border-blue-400">
                    <div><span class="time-tag">09:00</span><h3 class="loc-title">å¾è«å®¶èŠå‡ºç™¼</h3></div>
                </div>
                <div class="card border-green-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">10:15</span><h3 class="loc-title">è—¤å±±æ­¥é“</h3><span class="stay-tag">åœç•™ 01æ™‚15åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/è—¤å±±æ­¥é“" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-orange-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">12:00</span><h3 class="loc-title">åˆé¤-å¯Œå‘³ç¾ä¹‹å®¶</h3><span class="stay-tag">åœç•™ 01æ™‚30åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/å¯Œå‘³ç¾ä¹‹å®¶" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-green-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">14:00</span><h3 class="loc-title">å¥½ç”°æ£®æ—</h3><span class="stay-tag">åœç•™ 01æ™‚30åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/å¥½ç”°æ£®æ—" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-blue-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">16:00</span><h3 class="loc-title">è²æ—å¤å ¡ è²å°¼å…‹æ–¯æ•™å ‚</h3><span class="stay-tag">åœç•™ 00æ™‚30åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/è²æ—å¤å ¡" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-orange-400">
                    <div><span class="time-tag">19:00</span><h3 class="loc-title">æ™šé¤-åšèŒ¶èœ(å¤§å¢©åº—)</h3><span class="stay-tag">åœç•™ 01æ™‚30åˆ†</span></div>
                </div>
                <div class="card border-blue-400">
                    <div><span class="time-tag">21:00</span><h3 class="loc-title">å›æ°‘å®¿ (è«å®¶èŠ)</h3></div>
                </div>
                <div class="card border-yellow-400">
                    <div><span class="time-tag">21:30</span><h3 class="loc-title">åˆä¸€ç™¼ç´…åŒ…æ™‚é–“</h3></div>
                </div>
            </section>

            <section>
                <h2 class="section-date">02/18 (ä¸‰) åˆäºŒ</h2>
                <div class="card border-blue-400">
                    <div><span class="time-tag">09:00</span><h3 class="loc-title">å¾è«å®¶èŠé€€æˆ¿å‡ºç™¼</h3></div>
                </div>
                <div class="card border-green-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">10:00</span><h3 class="loc-title">é£›ç‰›ç‰§å ´</h3><span class="stay-tag">åœç•™ 02æ™‚00åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/é£›ç‰›ç‰§å ´" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-orange-400">
                    <div><span class="time-tag">13:00</span><h3 class="loc-title">åˆé¤-ç´…æ£—é£Ÿåºœ</h3><span class="stay-tag">åœç•™ 01æ™‚30åˆ†</span></div>
                </div>
                <div class="card border-purple-400">
                    <div><span class="time-tag">15:00</span><h3 class="loc-title">ä¸‰ç¾©é´¨ç®±å¯¶ (DIY)</h3><span class="stay-tag">åœç•™ 01æ™‚00åˆ†</span></div>
                </div>
                <div class="card border-green-400">
                    <div><span class="time-tag">16:15</span><h3 class="loc-title">é¦¬å®¶èƒ¡åŒ (é€›é€›)</h3><span class="stay-tag">åœç•™ 00æ™‚30åˆ†</span></div>
                </div>
                <div class="card border-blue-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">17:00</span><h3 class="loc-title">å…¥ä½-å“ä¹Ÿå°å±‹</h3><span class="stay-tag">åœç•™ 01æ™‚00åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/å“ä¹Ÿå°å±‹" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-orange-400">
                    <div><span class="time-tag">18:30</span><h3 class="loc-title">æ™šé¤-æ–°æœˆæ¢§æ¡(ä¸‰ç¾©åº—)</h3><span class="stay-tag">åœç•™ 01æ™‚30åˆ†</span></div>
                </div>
                <div class="card border-blue-400">
                    <div><span class="time-tag">20:30</span><h3 class="loc-title">å›æˆ¿ä¼‘æ¯ (å“ä¹Ÿå°å±‹)</h3></div>
                </div>
            </section>

            <section>
                <h2 class="section-date">02/19 (å››) åˆä¸‰</h2>
                <div class="card border-purple-400">
                    <div><span class="time-tag">10:30</span><h3 class="loc-title">å°ç†Šåšç‰©é¤¨ (æ‰‹ä½œDIY)</h3><span class="stay-tag">åœç•™ 01æ™‚00åˆ†</span></div>
                </div>
                <div class="card border-purple-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">11:33</span><h3 class="loc-title">å‚å¤é£Ÿå“ æ——è‰¦åº—</h3><span class="stay-tag">åœç•™ 00æ™‚27åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/å‚å¤é£Ÿå“æ——è‰¦åº—" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-green-400">
                    <div><span class="time-tag">12:13</span><h3 class="loc-title">ä½³æ¨‚è§€å…‰æœåœ’ (æ¡æœ)</h3><span class="stay-tag">åœç•™ 01æ™‚07åˆ†</span></div>
                </div>
                <div class="card border-orange-400">
                    <div class="flex justify-between items-start">
                        <div><span class="time-tag">13:30</span><h3 class="loc-title">åˆé¤-ç´…èŠ­æ¨‚å‰µæ„æ–™ç†</h3><span class="stay-tag">åœç•™ 01æ™‚30åˆ†</span></div>
                        <a href="https://www.google.com/maps/search/ç´…èŠ­æ¨‚å‰µæ„æ–™ç†" class="btn-nav">å°èˆª</a>
                    </div>
                </div>
                <div class="card border-blue-500 bg-blue-50">
                    <div><span class="time-tag">15:00</span><h3 class="loc-title">å¿«æ¨‚è³¦æ­¸ - æº«æš–çš„å®¶</h3></div>
                </div>
            </section>
        </div>

        <div id="quick-nav" class="tab-content space-y-6">
            <div class="flex justify-between items-center mb-4">
                <h2 class="font-bold text-2xl">ğŸ“ è‡¨æ™‚åœ°é»å°èˆª</h2>
                <button id="add-loc-btn" class="bg-blue-600 text-white px-5 py-2 rounded-full font-bold shadow-lg">+ æ–°å¢</button>
            </div>
            <div id="location-list" class="space-y-4"></div>
        </div>

        <div id="tools" class="tab-content space-y-6">
            <h2 class="font-bold text-2xl mb-4 text-green-700">ğŸ’° é›²ç«¯å…¬æ¬¾å¸³æœ¬</h2>
            <div class="card !p-6 border-green-500">
                <div id="expense-list" class="space-y-4"></div>
                <button id="add-exp-btn" class="w-full mt-6 py-4 border-2 border-dashed border-gray-300 rounded-2xl text-gray-500 font-bold text-lg">+ æ–°å¢æ¶ˆè²»</button>
                <div class="mt-8 pt-6 border-t-2 border-dashed flex justify-between items-center font-black text-3xl text-green-600">
                    <span>ç¸½è¨ˆ</span><span id="total-val">$ 0</span>
                </div>
            </div>
        </div>

    </main>

    <nav class="fixed bottom-0 w-full bg-white/95 backdrop-blur-md border-t flex justify-around p-4 pb-12 shadow-2xl z-50">
        <button onclick="showTab('itinerary')" class="nav-btn flex flex-col items-center text-red-700"><i class="fas fa-calendar-alt text-2xl"></i><span class="text-xs mt-1 font-bold">é å®šè¡Œç¨‹</span></button>
        <button onclick="showTab('quick-nav')" class="nav-btn flex flex-col items-center text-gray-400"><i class="fas fa-map-pin text-2xl"></i><span class="text-xs mt-1 font-bold">è‡¨æ™‚å°èˆª</span></button>
        <button onclick="showTab('tools')" class="nav-btn flex flex-col items-center text-gray-400"><i class="fas fa-wallet text-2xl"></i><span class="text-xs mt-1 font-bold">å…¬æ¬¾è¨˜å¸³</span></button>
    </nav>

    <script>
        function showTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            const btns = document.querySelectorAll('.nav-btn');
            btns.forEach(btn => btn.style.color = '#999');
            event.currentTarget.style.color = '#C0392B';
            window.scrollTo(0,0);
        }

        const config = { databaseURL: "https://springtravel-2026-default-rtdb.asia-southeast1.firebasedatabase.app" };
        firebase.initializeApp(config);
        const db = firebase.database();

        // å°èˆªé‚è¼¯
        db.ref('locations').on('value', snap => {
            const list = document.getElementById('location-list'); list.innerHTML = '';
            const data = snap.val();
            if(data) {
                Object.keys(data).forEach(k => {
                    const i = data[k];
                    const d = document.createElement('div');
                    d.className = "card !p-5 flex justify-between items-center border-l-4 border-blue-500";
                    d.innerHTML = `<input type="text" value="${i.name}" onchange="updateLoc('${k}',this.value)" class="text-xl font-bold w-full outline-none"><div class="flex gap-5"><button onclick="goNav('${i.name}')" class="text-blue-600 text-3xl"><i class="fas fa-directions"></i></button><button onclick="delLoc('${k}')" class="text-gray-300 text-2xl">Ã—</button></div>`;
                    list.appendChild(d);
                });
            }
        });
        document.getElementById('add-loc-btn').onclick = () => db.ref('locations').push({ name: "" });
        function updateLoc(k,v) { db.ref('locations').child(k).update({name:v}); }
        function delLoc(k) { if(confirm('åˆªé™¤ï¼Ÿ')) db.ref('locations').child(k).remove(); }
        function goNav(n) { if(!n) return; window.open(`https://www.google.com/maps/search/${encodeURIComponent(n)}`, '_blank'); }

        // è¨˜å¸³é‚è¼¯
        db.ref('expenses').on('value', snap => {
            const list = document.getElementById('expense-list'); list.innerHTML = ''; let total = 0;
            const data = snap.val();
            if(data) {
                Object.keys(data).forEach(k => {
                    const i = data[k]; total += parseInt(i.amt || 0);
                    const r = document.createElement('div');
                    r.className = "flex gap-3 items-center mb-4";
                    r.innerHTML = `<input type="text" value="${i.name}" onchange="updateExp('${k}','name',this.value)" class="bg-gray-100 text-lg p-4 rounded-xl w-full outline-none font-bold"><input type="number" value="${i.amt}" onchange="updateExp('${k}','amt',this.value)" class="bg-gray-100 text-lg p-4 rounded-xl w-32 text-right outline-none font-bold text-green-700"><button onclick="delExp('${k}')" class="text-gray-300 px-2 text-2xl">Ã—</button>`;
                    list.appendChild(r);
                });
            }
            document.getElementById('total-val').innerText = '$ ' + total.toLocaleString();
        });
        document.getElementById('add-exp-btn').onclick = () => db.ref('expenses').push({ name: "", amt: 0 });
        function updateExp(k,f,v) { const o={}; o[f]=v; db.ref('expenses').child(k).update(o); }
        function delExp(k) { if(confirm('åˆªé™¤ï¼Ÿ')) db.ref('expenses').child(k).remove(); }
    </script>
</body>
</html>
